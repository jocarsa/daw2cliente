<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ejemplo de Pila en JavaScript</title>
  </head>
  <body>
    <h1>Ejemplo de Pila (Stack) en JavaScript</h1>

    <button id="btnEjecutar">Ejecutar ejemplo</button>
    <pre id="salida"></pre>

    <script>
      class Pila {
        #elementos;

        constructor() {
          this.#elementos = [];
        }

        push(elemento) {
          this.#elementos.push(elemento);
        }

        pop() {
          if (this.isEmpty()) return "La pila está vacía";
          return this.#elementos.pop();
        }

        peek() {
          if (this.isEmpty()) return "La pila está vacía";
          return this.#elementos[this.#elementos.length - 1];
        }

        isEmpty() {
          return this.#elementos.length === 0;
        }

        size() {
          return this.#elementos.length;
        }

        mostrar() {
            if (this.isEmpty()) return "Pila vacía";

            let resultado = "Contenido de la pila (cima → base):\n";

            for (let i = this.#elementos.length - 1; i >= 0; i--) {
                resultado += `[${i}] ${this.#elementos[i]}\n`;
            }

            return resultado;
        }

      }

      const salida = document.getElementById("salida");
      const btn = document.getElementById("btnEjecutar");

      function log(msg) {
        salida.textContent += msg + "\n";
      }

      btn.addEventListener("click", () => {
        salida.textContent = "";

        const pila = new Pila();

        pila.push(10);
        pila.push(20);
        pila.push(30);

        log(pila.mostrar());

        log("peek() -> " + pila.peek());
        log("pop()  -> " + pila.pop());

        log(pila.mostrar());
      });
    </script>
  </body>
</html>
